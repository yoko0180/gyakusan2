(this.webpackJsonpgyakusan2=this.webpackJsonpgyakusan2||[]).push([[0],{22:function(e){e.exports=JSON.parse('{"name":"gyakusan2","version":"0.4.0","private":true,"dependencies":{"@testing-library/jest-dom":"^5.11.4","@testing-library/react":"^11.1.0","@testing-library/user-event":"^12.1.10","@types/jest":"^26.0.15","@types/node":"^12.0.0","@types/react":"^17.0.0","@types/react-dom":"^17.0.0","date-fns":"^2.28.0","react":"^17.0.2","react-copy-to-clipboard":"^5.0.3","react-dom":"^17.0.2","react-router-dom":"^5.2.0","react-scripts":"4.0.3","typescript":"^4.1.2","web-vitals":"^1.0.1"},"scripts":{"start":"react-scripts start","test":"react-scripts test","show:css-size":"dir src\\\\*.css && dir work\\\\*.css","dev:build:css:stock":"postcss src/style.css -o work/post.css","dev:replace:css:from-stock":"copy work\\\\post.css src\\\\post.css","dev:build:tailwind":"tailwindcss build src/style.css -o src/post.css","dev:build:tailwind-prod":"set NODE_ENV=production tailwindcss build src/style.css -o src/post.css","build:css":"postcss src/style.css -o src/post.css","build:css-prod":"set NODE_ENV=production postcss src/style.css -o src/post.css","build:react":"react-scripts build","build:404":"copy build\\\\index.html build\\\\404.html","deploy":"gh-pages -d build","build-deploy":"npm run build:react && npm run deploy","eject":"react-scripts eject"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@types/react-copy-to-clipboard":"^5.0.0","@types/react-router-dom":"^5.1.7","autoprefixer":"^10.2.5","fast-xml-parser":"^3.19.0","gh-pages":"^4.0.0","he":"^1.2.0","postcss":"^8.2.15","postcss-cli":"^8.3.1","react-redux":"^7.2.4","tailwind":"^4.0.0","tailwindcss":"^2.2.0"}}')},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(21),i=n.n(r),o=(n(30),n(31),n(32),n(33),n(24)),l=n(5),a=n(11),u=n(9),d=n(43),j=n(45),b=n(41),m=n(44),f=n(42),O=n(22),h=n(0),p=function(e){var t=e.show,n=e.onClose,c=e.children;return Object(h.jsxs)("div",{className:"modal-panel",children:[Object(h.jsx)("div",{className:"modal-overlay "+(t?"":" closed"),id:"modal-overlay"}),Object(h.jsxs)("div",{className:"modal "+(t?"":" closed"),id:"modal",children:[Object(h.jsx)("button",{className:"close-button",id:"close-button",onClick:n,children:"\u9589\u3058\u308b"}),Object(h.jsxs)("div",{className:"modal-guts",children:[Object(h.jsx)("h4",{children:"\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u30a6\u30a3\u30f3\u30c9\u30a6"}),Object(h.jsx)("p",{children:"\u3053\u306e\u7a93\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u9593\u306f\u7a93\u306e\u5916\u306e\u64cd\u4f5c\u306f\u3067\u304d\u307e\u305b\u3093\u3002\u30a6\u30a3\u30f3\u30c9\u30a6\u3092\u9589\u3058\u3066\u64cd\u4f5c\u3057\u3066\u4e0b\u3055\u3044\u3002"}),Object(h.jsx)("div",{className:"",children:c})]})]})]})};function x(e){try{var t=localStorage.getItem(e);return"string"===typeof t?JSON.parse(t):null}catch(n){return null}}function v(e,t){console.log("save...");try{localStorage.setItem(e,JSON.stringify(t))}catch(n){}}var g=function(e){e.lang;var t=Object(c.useRef)(null),n="items",s="goal",r=d.a(Object(b.a)(new Date,{hours:10}),{minutes:0}),i=Object(c.useState)(!1),o=Object(u.a)(i,2),g=o[0],y=o[1],N=Object(c.useState)(!1),k=Object(u.a)(N,2),C=k[0],w=k[1],S=Object(c.useState)(r),F=Object(u.a)(S,2),E=F[0],I=F[1],D=Object(c.useState)([]),T=Object(u.a)(D,2),J=T[0],_=T[1],L=Object(c.useState)([]),M=Object(u.a)(L,2),B=M[0],H=M[1],P=Object(c.useState)(),V=Object(u.a)(P,2),z=V[0],A=V[1],R=Object(c.useState)("edit"),q=Object(u.a)(R,2),G=q[0],K=q[1],Q=Object(l.f)(),U=Object(c.useState)(""),W=Object(u.a)(U,2),X=W[0],Y=W[1],Z=Object(c.useState)(""),$=Object(u.a)(Z,2),ee=$[0],te=$[1],ne=Object(c.useState)(""),ce=Object(u.a)(ne,2),se=ce[0],re=ce[1],ie=Object(c.useState)(""),oe=Object(u.a)(ie,2),le=oe[0],ae=oe[1],ue=Object(c.useState)(""),de=Object(u.a)(ue,2),je=de[0],be=de[1];Object(c.useEffect)((function(){console.log("load...");var e=x(n);if(console.log("value",e),void 0!==e&&null!==e){try{_(e)}catch(t){console.log("setItems error on load value.",t)}try{I(j.a(x(s))),console.log("load goal ok")}catch(c){console.log("load goal fatal!!")}}}),[]),Object(c.useEffect)((function(){document.title="\u9006\u7b97"}),[Q.location,"\u9006\u7b97"]);var me=function(e,t){var n=function(e){return void 0===e||null===e?0:e},c=function(e,t,n){return e<t?t:e>n?n:e},s=n(e.hours)+n(t.hours),r=n(e.minutes)+n(t.minutes),i=Object(a.a)(Object(a.a)({},e),{},{hours:c(s,0,99),minutes:c(r,0,59)});return console.log("addDuration",e,t,i),i},fe=function(e,t){console.log("items",J),_(J.map((function(n){return e.id===n.id?Object(a.a)(Object(a.a)({},n),{},{costOfTime:me(n.costOfTime,t)}):n})))},Oe=function(e,t){_(J.map((function(n){return e.id===n.id?Object(a.a)(Object(a.a)({},n),{},{off:t}):n})))};Object(c.useEffect)((function(){v(n,J),v(s,E);var e=E,t="edit"===G?J:J.filter((function(e){return void 0===e.off||!1===e.off}));H(t.map((function(t,n){var c=E,s=t.costOfTime;if(0===n&&(c=Object(m.a)(E,s)),0!==n){J[n-1];c=Object(m.a)(e,s)}return void 0!==t.off&&!1!==t.off||(e=c),t.off&&(c=null),Object(a.a)(Object(a.a)({},t),{},{time:c})})).reverse())}),[J,E,G]),Object(c.useEffect)((function(){var e;g&&(null===(e=t.current)||void 0===e||e.focus())}),[g]);var he=function(e){var t=e.onClick,n=e.children;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("button",{className:"ctrl-btn bg-green-900 p-2 m-1 rounded ",onClick:t,children:n})})},pe=function(e){var t=e.onClick,n=e.num,c=e.label;e.children;return Object(h.jsxs)(he,{onClick:t,children:[n>0&&"+",n,c]})},xe=function(e){var t=e.item,n=e.nums,c=e.cb;e.children;return Object(h.jsx)(h.Fragment,{children:n.map((function(e){return Object(h.jsx)(pe,{onClick:function(){c(t,e)},num:e})}))})},ve=function(e){var t=e.item,n=e.nums;e.children;return Object(h.jsx)(xe,{item:t,nums:n,cb:function(e,t){return fe(e,{hours:t})}})},ge=function(e){var t=e.children;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("span",{className:"text-2xl",children:t})})},ye=function(e){var t=e.num,n=e.label;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("span",{className:"hours-label text-2xl",children:t}),Object(h.jsx)("span",{children:n})]})},Ne=function(e){var t=e.time;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("span",{className:"hours-label text-xl text-gray-300",children:t&&Object(f.a)(t,"MM-dd")}),"\xa0",Object(h.jsx)("span",{className:"hours-label text-2xl",children:t&&Object(f.a)(t,"HH:mm")})]})};return Object(h.jsxs)("div",{className:"App p-5",children:[Object(h.jsx)("div",{children:Object(h.jsxs)("span",{children:["ver ",O.version]})}),Object(h.jsxs)("label",{htmlFor:"",children:["\u9805\u76ee\u8ffd\u52a0",Object(h.jsx)("input",{type:"text",name:"label",id:"input-label",className:"p-2 m-2",onChange:function(e){return Y(e.target.value)},value:X})]}),Object(h.jsxs)("div",{className:"m-2",children:[Object(h.jsx)("input",{className:"input-time p-2",type:"number",name:"hour",maxLength:2,min:0,onChange:function(e){return te(e.target.value)},value:ee}),"hours",Object(h.jsx)("input",{className:"input-time p-2",type:"number",name:"minutes",maxLength:2,min:0,onChange:function(e){return re(e.target.value)},value:se}),"minutes"]}),Object(h.jsx)("button",{className:"add-btn bg-green-900 p-2 m-1 rounded ",onClick:function(){var e=function(e){return""===e?0:+e},t={id:"item_"+Date.now(),label:X,costOfTime:{hours:e(ee),minutes:e(se)},off:!1};_(J.concat([t]))},children:"\u8ffd\u52a0"}),Object(h.jsx)("button",{className:"deleteall-btn bg-red-900 p-2 m-1 rounded ",onClick:function(){_([])},children:"delete all"}),Object(h.jsx)("button",{className:"bg-green-900 p-2 m-1 rounded ",onClick:function(){return K("view")},children:"view mode"}),Object(h.jsx)("button",{className:"bg-green-900 p-2 m-1 rounded ",onClick:function(){return K("edit")},children:"edit mode"}),Object(h.jsx)("button",{className:"bg-green-900 p-2 m-1 rounded ",onClick:function(){return K("move")},children:"move mode"}),Object(h.jsx)("button",{className:"bg-green-900 p-2 m-1 rounded ",onClick:function(){return K("delete")},children:"delete mode"}),Object(h.jsx)("button",{className:"bg-green-900 p-2 m-1 rounded ",onClick:function(){be(JSON.stringify(J)),w(!0)},children:"import/export"}),Object(h.jsxs)(p,{show:g,onClose:function(){return y(!1)},children:[Object(h.jsx)("input",{className:"input input-edit-label text-2xl p-2 rounded",ref:t,type:"text",name:"",id:"",value:le,onChange:function(e){return ae(e.target.value)}}),Object(h.jsx)("button",{className:"btn bg-green-900 p-2 m-1 rounded ",onClick:function(){z&&(_(J.map((function(e){return e.id===z.id?Object(a.a)(Object(a.a)({},e),{},{label:le}):e}))),y(!1))},children:"update"})]}),Object(h.jsxs)(p,{show:C,onClose:function(){return w(!1)},children:[Object(h.jsx)("textarea",{className:"input",name:"",id:"",cols:70,rows:6,value:je,onChange:function(e){return be(e.target.value)}}),Object(h.jsx)("button",{className:"btn bg-green-900 p-2 m-1 rounded ",onClick:function(){try{_(JSON.parse(je))}catch(e){console.log("import error",e)}},children:"import"})]}),Object(h.jsxs)("table",{className:"border",children:[Object(h.jsxs)("thead",{children:[Object(h.jsx)("th",{children:"label"}),Object(h.jsx)("th",{colSpan:2,children:"\u6240\u8981\u6642\u9593"}),Object(h.jsx)("th",{children:"start\u6642\u523b"})]}),Object(h.jsxs)("tbody",{children:[B.map((function(e){return Object(h.jsxs)("tr",{className:!0===e.off?"off":"",children:[Object(h.jsxs)("td",{children:[Object(h.jsx)(ge,{children:e.label}),"delete"===G&&Object(h.jsx)("div",{className:"",children:Object(h.jsx)(he,{onClick:function(){return function(e){_(J.filter((function(t){return t.id!==e.id})))}(e)},children:"delete"})}),"edit"===G&&Object(h.jsxs)("div",{className:"ctrl",children:[Object(h.jsx)(he,{onClick:function(){A(e),ae(e.label),y(!0)},children:"edit"}),(void 0===e.off||!1===e.off)&&Object(h.jsx)(he,{onClick:function(){return Oe(e,!0)},children:"off"}),!0===e.off&&Object(h.jsx)(he,{onClick:function(){return Oe(e,!1)},children:"on"})]}),"move"===G&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(he,{onClick:function(){return function(e){var t=J.reverse(),n=t.findIndex((function(t){return t.id===e.id}));if(!(n<1)){var c=t.slice(0,n-1),s=t.slice(n+1);s.unshift(t[n-1]),console.log("front",c),console.log("back",s);var r=c.concat([e]).concat(s);console.log("new_items",r),_(r.reverse())}}(e)},children:"up"}),Object(h.jsx)(he,{onClick:function(){return function(e){var t=J.reverse(),n=t.findIndex((function(t){return t.id===e.id}));if(n!==J.length-1){var c=t.slice(0,n),s=t.slice(n+2);c.push(t[n+1]),console.log("front",c),console.log("back",s);var r=c.concat([e]).concat(s);console.log("new_items",r),_(r.reverse())}}(e)},children:"down"}),Object(h.jsx)(he,{onClick:function(){return function(e){var t=J.reverse(),n=t.findIndex((function(t){return t.id===e.id}));if(console.log("index",n),!(n<0)){var c=[e].concat(t.filter((function(t){return t.id!==e.id})));_(c.reverse())}}(e)},children:"up end"}),Object(h.jsx)(he,{onClick:function(){return function(e){console.log("moveDownEndItem");var t=J.reverse(),n=t.findIndex((function(t){return t.id===e.id}));if(console.log("index",n),!(n<0)){var c=t.filter((function(t){return t.id!==e.id})).concat([e]);console.log("new_array",c),_(c.reverse())}}(e)},children:"down end"})]})]}),Object(h.jsxs)("td",{children:[Object(h.jsx)(ye,{num:e.costOfTime.hours,label:"h"}),"edit"===G&&Object(h.jsx)("div",{className:"ctrl",children:Object(h.jsx)(ve,{item:e,nums:[1,-1]})})]}),Object(h.jsxs)("td",{children:[Object(h.jsx)(ye,{num:e.costOfTime.minutes,label:"m"}),Object(h.jsx)("div",{className:"ctrl",children:"edit"===G&&Object(h.jsx)(xe,{item:e,nums:[5,10,-5,-10],cb:function(e,t){return fe(e,{minutes:t})}})})]}),Object(h.jsx)("td",{children:Object(h.jsx)(Ne,{time:e.time})})]},e.id)})),Object(h.jsxs)("tr",{children:[Object(h.jsxs)("td",{colSpan:3,children:["goal",("move"===G||"edit"===G)&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(pe,{onClick:function(){I(b.a(E,{hours:1}))},num:1,label:"hour"}),Object(h.jsx)(pe,{onClick:function(){I(b.a(E,{hours:-1}))},num:-1,label:"hour"}),Object(h.jsx)(pe,{onClick:function(){I(b.a(E,{minutes:10}))},num:10,label:"min"}),Object(h.jsx)(pe,{onClick:function(){I(b.a(E,{minutes:-10}))},num:-10,label:"min"})]})]}),Object(h.jsx)("td",{children:Object(h.jsx)(Ne,{time:E})})]})]})]}),Object(h.jsx)("div",{className:"three wide column text-left mt-5",children:"\xa9 2022"})]})};var y=function(){return Object(h.jsx)(o.a,{basename:"/7dtd-integration",children:Object(h.jsxs)(l.c,{children:[Object(h.jsx)(l.a,{path:"/en",children:Object(h.jsx)(g,{lang:"en"})}),Object(h.jsx)(l.a,{path:"/",children:Object(h.jsx)(g,{lang:"ja"})})]})})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),r(e),i(e)}))};i.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(y,{})}),document.getElementById("root")),N()}},[[40,1,2]]]);